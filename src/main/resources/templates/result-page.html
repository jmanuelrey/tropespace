<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link rel="stylesheet" th:href="@{/css/bundle.css}"/>

<!-- TODO: pasar nombre del tropo y mostrar -->
<title>Resultados</title>
</head>

<script>

	function SmoothScrollTop() {
		window.scroll({
			  top: 0, 
			  left: 0, 
			  behavior: 'smooth'
			});
	}

</script>

<body class="">
	<header id="main-header-bar" class="headroom-element">
		<div id="main-header-bar-inner">
			<span id="header-spacer-left" class="header-spacer"></span> <a
				href="https://tvtropes.org" id="main-header-logoButton"
				class="no-dev"></a> <span id="header-spacer-right"
				class="header-spacer"></span>
			<h1
				style="text-align: center; width: 200px; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto">Resultados</h1>
		</div>
	</header>
	<br>

	<!-- TODO: botón para volver a la búsqueda -->
	<div id="main-container">
		<div id="action-bar-top" class="action-bar mobile-off"></div>
		<div id="main-content" class="page-SearchResults class-search-results">
			<div id="main-entry" class="with-sidebar" style="width:100%; max-width:100%">
				<h1 itemprop="headline" class="entry-title" th:text="${'Búsqueda: &quot;' + requestedString +'&quot;'}"></h1>
				<div id="main-article" class="article-content">
					<div id="search-results">
						<table>
							<thead>
								<tr>
									<th>Nombre</th>
									<th>URL</th>
									<th>Tropos relacionados</th>
									<th>Medios relacionados</th>
								</tr>
							</thead>
							<tbody>
								<tr th:if="${tropes.empty}">
									<td colspan="4">Ningún tropo concide con su búsqueda</td>
								</tr>
								<tr th:each="trope : ${tropes}">
									<td><a th:text="${trope.name}" th:href="@{'trope?id='+${trope.id}}" > Nombre </a></td>
									<td><a th:text="${trope.url}" th:href="${trope.url}"> URL </a></td>
									<td><span th:text="${trope.relatedTropesCount}"> Tropos relacionados </span></td>
									<td><span th:text="${trope.mediaUrlsCount}"> Medios relacionados </span></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div id="action-bar-bottom" class="action-bar tablet-off">
			<a href="#top-of-page" class="scroll-to-top dead-button"
				onclick="SmoothScrollTop()">Top</a>
		</div>
	</div>
</body>

</html>
